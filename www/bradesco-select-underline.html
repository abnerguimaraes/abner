<!doctype html>
<html>

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' 'unsafe-eval';" />
    <title>Exemplo</title>
    <link rel="stylesheet" type="text/css" href="object/bra-page/css/bra-page-1.0.0.css">
    <link rel="stylesheet" type="text/css" href="object/bra-content/css/bra-content-1.0.0.css">
    <link rel="stylesheet" type="text/css" href="object/bra-box/css/bra-box-1.0.0.css">
    <link rel="stylesheet" type="text/css" href="object/bra-input/css/bra-input-1.0.0.css">
    <link rel="stylesheet" type="text/css" href="object/bra-input-text-underline/css/bra-input-text-underline-1.0.0.css">
    <link rel="stylesheet" type="text/css" href="object/bra-select-underline/css/bra-select-underline-1.0.0.css">
    <link rel="stylesheet" type="text/css" href="object/bra-input-button/css/bra-input-button-1.0.0.css">
</head>

<body>
    <bradesco-page>
        <bradesco-content>
            <h1>Combo de seleção</h1>
            <bradesco-box id="content">
                <bradesco-input-text-underline width="50%" tab-index="1"></bradesco-input-text-underline>
                <bradesco-select-underline width="50%" description="Obrigatorio" id="select1" tab-index="2" onchange="povoaEstado">
                </bradesco-select-underline>
                <bradesco-select-underline id="select2" label="Estado" tab-index="3" description="teste">
                </bradesco-select-underline>
                <bradesco-select-underline id="select3" label="Cidade" tab-index="3" is-required="true">
                </bradesco-select-underline>
            </bradesco-box>
        </bradesco-content>
    </bradesco-page>
    <!-- Dependencia dos componentes -->
    <script type="text/javascript" src="vendor/webcomponents.min.js"></script>
    <script type="text/javascript" src="vendor/jquery-3.1.1.min.js"></script>
    <script type="text/javascript" src="object/bra-1-fix/js/bra-1-fix-1.0.0.js"></script>
    <script type="text/javascript" src="object/bra-pmb-functions/js/1-bra-pmb-communication.js"></script>
    <script type="text/javascript" src="object/bra-pmb-functions/js/1-bra-pmb-utils.js"></script>
    <script type="text/javascript" src="object/bra-pmb-functions/js/2-bra-pmb-communication-ajax.js"></script>
    <script type="text/javascript" src="object/bra-pmb-functions/js/99-bra-pmb.js"></script>
    <!-- Componentes utilizados -->
    <script type="text/javascript" src="object/bra-block/js/bra-block-1.0.0.js"></script>
    <script type="text/javascript" src="object/bra-page/js/bra-page-1.0.0.js"></script>
    <script type="text/javascript" src="object/bra-content/js/bra-content-1.0.0.js"></script>
    <script type="text/javascript" src="object/bra-box/js/bra-box-1.0.0.js"></script>
    <script type="text/javascript" src="object/bra-input/js/bra-input-1.0.0.js"></script>
    <script type="text/javascript" src="object/bra-input-text-underline/js/bra-input-text-underline-1.0.0.js"></script>
    <script type="text/javascript" src="object/bra-select-underline/js/bra-select-underline-1.0.0.js"></script>
    <script type="text/javascript" src="object/bra-input-button/js/bra-input-button-1.0.0.js"></script>
</body>
<script>
$(document).ready(function() {
    var pais = new Array();

    for (var i = 0; i < 10; i++) {
        pais.push({
            "nome": "Brasil",
            "valor": "1"
        });
    }
    $("#select1").fillSelect(pais, function() { });


    window.povoaEstado = function() {
        //Faz uma consulta e preenche os dados
        var estado = new Array();
        estado.push({
            "nome": "Sao Paulo",
            "valor": "1"
        });
        //Preenche select
        $("#select2").fillSelect(estado);
    }

    window.povoaCidade = function() {
        //Verificando valor
        if ($(this).getObject().valor == 1) {
            $(this).attr("error", "teste");
        }

        //FAz uma consulta e preenche os dados
        var cidade = new Array();
        cidade.push({
            "nome": "Barueri",
            "valor": "1"
        });
        cidade.push({
            "nome": "Sao Paulo",
            "valor": "2"
        });
        cidade.push({
            "nome": "Osasco",
            "valor": "3"
        });

        //Preenche select
        $("#select3").fillSelect(cidade);
    }

    var select = $("<bradesco-select-underline />");
    select.attr("id", "testeDinamico");
    select.attr("description", "Teste");
    select.attr("is-required", "true");
    select.attr("tab-index", "4");
    select.attr("goto-tab-index", "1");
    select.attr("label", "Dinamico Teste");
    select.appendTo($("#content"));

    povoaCidade();
});
</script>

</html>
